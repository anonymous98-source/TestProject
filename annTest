
private void handleAdd(CommonReq request) {

    // 1. Validate payload presence
    if (request.getPayload() == null) {
        throw new IllegalArgumentException("Payload is required for ADD operation");
    }

    // 2. Convert payload object â†’ entity (NOT readValue)
    CalenderConfigModel model =
        objectMapper.convertValue(request.getPayload(), CalenderConfigModel.class);

    // 3. Force INSERT (critical)
    model.setId(null);

    // 4. Mandatory audit fields
    model.setApprovedBy(request.getExecutorId());
    model.setApprovedAt(request.getExecutionDate());
    model.setRequestedBy(request.getCreatorId());
    model.setRequestedAt(request.getReqDate());

    // 5. Persist
    calenderConfigRepository.save(model);

    log.info(
        "Calendar config added successfully: {} to {}",
        model.getYearStartDate(),
        model.getYearEndDate()
    );
} 
