Great question â€” this is the right UX decision ğŸ‘
Yes, you can (and should) allow direct inline editing of:

âœ… Category name
âœ… Category percentage
âœ… Optional delete row support

All inside the Categories panel JTable, no extra dialogs needed.

Below is a clean, Swing-correct, production-ready solution.


---

ğŸ¯ What weâ€™ll enable

In Categories panel JTable:

Category Name	Percentage (%)

Editable	Editable


âœ” Double-click to edit
âœ” Enter / Tab to save
âœ” Real-time validation
âœ” Prevent empty names
âœ” Prevent negative %
âœ” Changes instantly reflected in report


---

1ï¸âƒ£ Update Category model (small but important)

Category.java (FINAL)

package com.fundsmanager.model;

public class Category {

    private String name;
    private double percentage;

    public Category(String name, double percentage) {
        this.name = name;
        this.percentage = percentage;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public double getPercentage() {
        return percentage;
    }

    public void setPercentage(double percentage) {
        this.percentage = percentage;
    }
}


---

2ï¸âƒ£ Replace CategoryTableModel (THIS IS THE KEY)

This enables direct inline editing for both columns.

CategoryTableModel.java (FULL REPLACEMENT)

package com.fundsmanager.ui;

import com.fundsmanager.model.Category;

import javax.swing.table.AbstractTableModel;
import java.util.List;

public class CategoryTableModel extends AbstractTableModel {

    private final String[] columns = {"Category Name", "Percentage (%)"};
    private final List<Category> categories;

    public CategoryTableModel(List<Category> categories) {
        this.categories = categories;
    }

    @Override
    public int getRowCount() {
        return categories.size();
    }

    @Override
    public int getColumnCount() {
        return columns.length;
    }

    @Override
    public String getColumnName(int col) {
        return columns[col];
    }

    @Override
    public Object getValueAt(int row, int col) {
        Category c = categories.get(row);
        return col == 0 ? c.getName() : c.getPercentage();
    }

    @Override
    public boolean isCellEditable(int row, int col) {
        return true; // âœ… BOTH columns editable
    }

    @Override
    public void setValueAt(Object value, int row, int col) {
        Category c = categories.get(row);

        if (col == 0) { // Category Name
            String name = value.toString().trim();
            if (!name.isEmpty()) {
                c.setName(name);
            }
        } else { // Percentage
            try {
                double percent = Double.parseDouble(value.toString());
                if (percent >= 0) {
                    c.setPercentage(percent);
                }
            } catch (NumberFormatException ignored) {
                // invalid input â†’ ignore change
            }
        }

        fireTableRowsUpdated(row, row);
    }

    public List<Category> getCategories() {
        return categories;
    }

    public void addCategory(Category category) {
        categories.add(category);
        fireTableRowsInserted(categories.size() - 1, categories.size() - 1);
    }

    public void removeCategory(int row) {
        if (row >= 0 && row < categories.size()) {
            categories.remove(row);
            fireTableRowsDeleted(row, row);
        }
    }
}


---

3ï¸âƒ£ Small UI Enhancement in MainFrame (Optional but recommended)

Allow deleting selected category

Add a Remove button under the category table.

In createMainContent() â†’ LEFT panel

JButton removeCategoryBtn = new JButton("ğŸ—‘ Remove Selected");
removeCategoryBtn.addActionListener(e -> removeSelectedCategory());

JPanel categoryBtnPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));
categoryBtnPanel.add(addCategoryBtn);
categoryBtnPanel.add(removeCategoryBtn);

leftPanel.add(categoryBtnPanel, BorderLayout.SOUTH);


---

Add this method to MainFrame

private void removeSelectedCategory() {
    JTable table = new JTable(categoryTableModel);
    int row = table.getSelectedRow();
    if (row >= 0) {
        categoryTableModel.removeCategory(row);
    } else {
        JOptionPane.showMessageDialog(
                this,
                "Please select a category to remove",
                "No Selection",
                JOptionPane.WARNING_MESSAGE
        );
    }
}

(If you already have the table reference, reuse it instead of creating new.)


---

4ï¸âƒ£ How editing works now (UX behavior)

ğŸ–± Double-click Category Name â†’ rename
ğŸ–± Double-click Percentage â†’ edit %
âŒ¨ Press Enter â†’ value saved
âŒ Invalid values ignored
âš  Total % validation happens on Generate Report

This matches real finance tools.


---

âœ… Final Result

âœ” Clean inline editing
âœ” No dialogs needed
âœ” Faster workflow
âœ” Professional UX
âœ” Logic unchanged

Your Categories panel now behaves like a real editable grid, not a form.


---

Want next?

I can:

Auto-recalculate percentages

Lock default categories

Highlight invalid totals in red

Add keyboard shortcuts

Add undo/redo


Just tell me ğŸ‘