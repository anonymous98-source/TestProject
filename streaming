Perfect ğŸ‘ â€” thatâ€™s absolutely correct UX thinking.

Right now icons are appearing in the percentage column because the same renderer is applied to both columns.

We will fix this properly so:

âœ… Icons appear ONLY in Category Name column
âœ… Percentage column is clean (no icons)
âœ… Percentage remains editable
âœ… Default category name remains locked


---

âœ… STEP 1 â€” Fix Renderer Usage in MainFrame

ğŸ“ File:

MainFrame.java

ğŸ“ Method:

createMainContent()


---

ğŸ”´ REMOVE this (if you have it)

categoryTable.getColumnModel()
        .getColumn(1)
        .setCellRenderer(statusRenderer);


---

âœ… KEEP ONLY THIS

CategoryStatusRenderer statusRenderer =
        new CategoryStatusRenderer();

categoryTable.getColumnModel()
        .getColumn(0)   // ONLY category name column
        .setCellRenderer(statusRenderer);

âš ï¸ DO NOT apply renderer to column 1.


---

âœ… STEP 2 â€” Make Renderer Column-Aware (IMPORTANT)

Make sure your CategoryStatusRenderer looks like this:


---

ğŸ“ CategoryStatusRenderer.java (FINAL CLEAN VERSION)

package com.fundsmanager.ui;

import com.fundsmanager.model.Category;

import javax.swing.*;
import javax.swing.table.DefaultTableCellRenderer;
import java.awt.*;

public class CategoryStatusRenderer extends DefaultTableCellRenderer {

    private final Icon lockIcon;
    private final Icon editIcon;

    public CategoryStatusRenderer() {
        lockIcon = loadIcon("/icons/lock.png");
        editIcon = loadIcon("/icons/edit.png");
        setOpaque(true);
    }

    @Override
    public Component getTableCellRendererComponent(
            JTable table,
            Object value,
            boolean isSelected,
            boolean hasFocus,
            int row,
            int column) {

        super.getTableCellRendererComponent(
                table, value, isSelected, hasFocus, row, column);

        CategoryTableModel model =
                (CategoryTableModel) table.getModel();
        Category category = model.getCategories().get(row);

        // ğŸ”¥ IMPORTANT: Only apply icon for Category Name column
        if (column == 0) {
            if (category.isLocked()) {
                setIcon(lockIcon);
                setToolTipText("Default category (name locked)");
            } else {
                setIcon(editIcon);
                setToolTipText("User category (editable)");
            }
        } else {
            // Percentage column â†’ NO ICON
            setIcon(null);
            setToolTipText(null);
        }

        // Background styling
        if (!isSelected) {
            if (category.isLocked()) {
                setBackground(new Color(245, 245, 245));
            } else {
                setBackground(Color.WHITE);
            }
        }

        setForeground(Color.DARK_GRAY);

        return this;
    }

    private Icon loadIcon(String path) {
        try {
            return new ImageIcon(
                    CategoryStatusRenderer.class.getResource(path)
            );
        } catch (Exception e) {
            return null;
        }
    }
}


---

âœ… STEP 3 â€” Ensure Editing Rules Are Correct

In CategoryTableModel confirm you have:

@Override
public boolean isCellEditable(int rowIndex, int columnIndex) {
    Category c = categories.get(rowIndex);

    // Column 0 = Category Name
    if (columnIndex == 0) {
        return !c.isLocked();  // Only user-added editable
    }

    // Column 1 = Percentage
    return true;  // Always editable
}


---

ğŸ¯ FINAL RESULT

Category Name	Percentage

ğŸ”’ Necessary Expenses	40.0
ğŸ”’ Emergency Fund	10.0
ğŸ”’ EMIs	15.0
âœ Savings	10.0
âœ Investments	10.0


âœ” No icons in percentage
âœ” Clean column alignment
âœ” Correct editing behavior
âœ” Professional UI


---

If percentage column still shows icons, it means: ğŸ‘‰ Renderer is still being applied to column 1 somewhere in MainFrame.

If you want next-level polish:

Make percentage right-aligned

Add % sign formatting

Add inline validation color


Just tell me ğŸ‘