Perfect ğŸ‘ â€” now weâ€™ll make the behavior fully consistent and logical.


---

ğŸ¯ FINAL REQUIRED BEHAVIOR

ğŸ”’ Default Categories (locked = true)

âŒ Category Name â†’ NOT editable

âŒ Percentage â†’ NOT editable


âœ User-Added Categories (locked = false)

âœ… Category Name â†’ editable

âœ… Percentage â†’ editable


This is cleaner and more intuitive.


---

âœ… ONLY ONE FILE NEEDS CHANGE

You only need to modify:

CategoryTableModel.java

No changes needed in:

MainFrame

Renderer

Pie chart

Services



---

ğŸ”§ UPDATE CategoryTableModel.java

ğŸ” Replace your existing isCellEditable(...) method with this:

@Override
public boolean isCellEditable(int rowIndex, int columnIndex) {
    Category category = categories.get(rowIndex);

    // ğŸ”¥ If category is locked â†’ nothing editable
    if (category.isLocked()) {
        return false;
    }

    // If user-added â†’ both name and percentage editable
    return true;
}


---

ğŸ§  Why This Is Correct

Before:

Default category name locked

But percentage editable âŒ (inconsistent)


Now:

Locked category = fully protected

User category = fully editable


Much cleaner UX logic.


---

ğŸ¯ Final Behavior in UI

Category Name	Percentage

ğŸ”’ Necessary Expenses	40.0 âŒ
ğŸ”’ EMIs	15.0 âŒ
âœ Savings	10.0 âœ…
âœ Investments	10.0 âœ…



---

ğŸ§ª Optional (Visual Enhancement)

If you want locked rows to feel clearly non-editable, you can:

categoryTable.setDefaultEditor(Object.class, null);

Or keep editing disabled automatically via model (recommended).


---

ğŸ Done

Now: âœ” Default categories fully protected
âœ” User categories fully editable
âœ” UI behavior matches business logic
âœ” Clean, professional


---

If you want next:

Add â€œUnlock Default Categoriesâ€ toggle

Add right-click context menu

Add confirmation dialog before editing

Add inline validation on percentage


Just tell me ğŸ‘