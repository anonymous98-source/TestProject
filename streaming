Excellent upgrade üëå ‚Äî adding a Bar Chart beside the Pie Chart makes your dashboard look like a proper financial analytics tool.

We‚Äôll implement this cleanly using JFreeChart, and place:

[ Pie Chart ]   [ Bar Chart ]

Side-by-side inside the right panel.


---

üéØ Final Result

Right side of dashboard will show:

ü•ß Pie Chart ‚Üí Expenses vs Savings (group summary)

üìä Bar Chart ‚Üí Category-wise Allocation (visual comparison)


Clean, professional layout.


---

üß† DESIGN APPROACH

Currently:

PieChartPanel (top)
Tables (bottom)

We will change to:

Charts SplitPane (Pie | Bar)
Tables below

So:

Top half ‚Üí Charts (horizontal split)

Bottom half ‚Üí Tables



---

‚úÖ STEP 1 ‚Äî Create BarChartPanel

Create new file:

BarChartPanel.java


---

‚úÖ FULL BarChartPanel.java

package com.fundsmanager.ui;

import com.fundsmanager.model.FundAllocation;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.chart.renderer.category.BarRenderer;
import org.jfree.data.category.DefaultCategoryDataset;

import javax.swing.*;
import java.awt.*;
import java.util.List;

public class BarChartPanel extends JPanel {

    private final JPanel chartHolder;

    public BarChartPanel() {
        setLayout(new BorderLayout());
        setBorder(BorderFactory.createTitledBorder("Category Allocation"));

        chartHolder = new JPanel(new BorderLayout());
        add(chartHolder, BorderLayout.CENTER);
    }

    public void updateChart(List<FundAllocation> allocations) {

        chartHolder.removeAll();

        if (allocations == null || allocations.isEmpty()) {
            repaint();
            return;
        }

        DefaultCategoryDataset dataset = new DefaultCategoryDataset();

        for (FundAllocation fa : allocations) {
            dataset.addValue(
                    fa.getAmount(),
                    "Amount",
                    fa.getCategory()
            );
        }

        JFreeChart chart = ChartFactory.createBarChart(
                "Category Allocation",
                "Category",
                "Amount",
                dataset
        );

        CategoryPlot plot = chart.getCategoryPlot();
        BarRenderer renderer = (BarRenderer) plot.getRenderer();

        renderer.setSeriesPaint(0, new Color(52, 152, 219));

        ChartPanel chartPanel = new ChartPanel(chart);
        chartPanel.setMouseWheelEnabled(true);

        chartHolder.add(chartPanel, BorderLayout.CENTER);

        revalidate();
        repaint();
    }

    public void clear() {
        chartHolder.removeAll();
        repaint();
    }
}


---

‚úÖ STEP 2 ‚Äî Update MainFrame Layout

Open:

MainFrame.java


---

1Ô∏è‚É£ Add Field

At top with other chart fields:

private BarChartPanel barChartPanel;


---

2Ô∏è‚É£ Update createMainContent()

Replace this section:

pieChartPanel = new PieChartPanel();

With:

pieChartPanel = new PieChartPanel();
barChartPanel = new BarChartPanel();

// Split charts horizontally
JSplitPane chartsSplit = new JSplitPane(
        JSplitPane.HORIZONTAL_SPLIT,
        pieChartPanel,
        barChartPanel
);

chartsSplit.setDividerLocation(450);
chartsSplit.setResizeWeight(0.5);
chartsSplit.setOneTouchExpandable(true);


---

3Ô∏è‚É£ Replace This Block

Find:

JSplitPane rightSplit = new JSplitPane(
        JSplitPane.VERTICAL_SPLIT,
        pieChartPanel,
        tablesSplit
);

Replace with:

JSplitPane rightSplit = new JSplitPane(
        JSplitPane.VERTICAL_SPLIT,
        chartsSplit,
        tablesSplit
);

rightSplit.setDividerLocation(350);
rightSplit.setResizeWeight(0.5);


---

‚úÖ STEP 3 ‚Äî Update generateReport()

Inside generateReport() after updating pie chart:

Add:

barChartPanel.updateChart(lastAllocations);

So it becomes:

allocationTableModel.setData(lastAllocations);
groupSummaryTableModel.setData(lastGroupSummaries);

pieChartPanel.updateChart(lastGroupSummaries);
barChartPanel.updateChart(lastAllocations);


---

‚úÖ STEP 4 ‚Äî Update Reset Method

Inside resetCategories() add:

barChartPanel.clear();


---

üéØ FINAL LAYOUT

------------------------------------------------------
 |             |                                       |
 |  Pie Chart  |   Bar Chart (Category Allocation)    |
 |             |                                       |
 ------------------------------------------------------
 |            Tables Section                          |
 ------------------------------------------------------


---

üèÜ What You Now Have

‚úî Pie chart (group distribution)
‚úî Bar chart (category allocation)
‚úî Fully dynamic
‚úî Scroll + resize friendly
‚úî Export still works
‚úî Professional analytics dashboard


---

üöÄ Optional Next Upgrades

If you want, we can now add:

Value labels above bars

Currency formatting on axis

Gradient bars

Horizontal bar chart option

Toggle between Amount & Percentage view

Export both charts together in one image


Just tell me üëç