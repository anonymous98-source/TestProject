Perfect ğŸ‘ â€” good observation.

Right now your export combines images side-by-side (horizontal):

[ PIE ][ BAR ]

That makes:

Bar chart compressed

Text unreadable

Axis labels cut

PDF scaling messy


We will fix it properly by:

ğŸ¯ NEW EXPORT LAYOUT (Professional)

[ PIE CHART ]
[ BAR CHART ]

âœ” Full width
âœ” Proper aspect ratio
âœ” Clean and readable
âœ” Works on A4


---

âœ… STEP 1 â€” Fix ChartImageUtil Combine Method

Open:

ChartImageUtil.java


---

ğŸ” REPLACE combineCharts(...) with THIS (VERTICAL)

public static BufferedImage combineChartsVertical(
        BufferedImage pie,
        BufferedImage bar) {

    int width = Math.max(pie.getWidth(), bar.getWidth());
    int height = pie.getHeight() + bar.getHeight();

    BufferedImage combined =
            new BufferedImage(
                    width,
                    height,
                    BufferedImage.TYPE_INT_ARGB
            );

    Graphics2D g = combined.createGraphics();

    // White background
    g.setColor(Color.WHITE);
    g.fillRect(0, 0, width, height);

    g.drawImage(pie, 0, 0, null);
    g.drawImage(bar, 0, pie.getHeight(), null);

    g.dispose();

    return combined;
}


---

âœ… STEP 2 â€” Increase Chart Sizes for PDF

Open:

PdfExporter.java


---

ğŸ” Replace your chart export section with THIS

// -------- PIE CHART --------
BufferedImage pie =
        ChartImageUtil.createGroupPieChart(
                groupSummaries, 600, 350);

// -------- BAR CHART --------
BufferedImage bar =
        ChartImageUtil.createBarChartImage(
                allocations, 600, 350);

// -------- COMBINE VERTICALLY --------
BufferedImage combined =
        ChartImageUtil.combineChartsVertical(pie, bar);

ByteArrayOutputStream baos =
        new ByteArrayOutputStream();

ImageIO.write(combined, "png", baos);

Image chartsImg =
        Image.getInstance(baos.toByteArray());

// Scale nicely to page width
chartsImg.scaleToFit(500, 700);
chartsImg.setAlignment(Image.ALIGN_CENTER);

document.add(chartsImg);


---

âœ… STEP 3 â€” Improve Bar Chart Image Generator

Open:

ChartImageUtil.java


---

ğŸ” Update createBarChartImage(...) to this

public static BufferedImage createBarChartImage(
        List<FundAllocation> allocations,
        int width,
        int height) {

    DefaultCategoryDataset dataset =
            new DefaultCategoryDataset();

    for (FundAllocation fa : allocations) {
        dataset.addValue(
                fa.getAmount(),
                "Amount",
                fa.getCategory()
        );
    }

    JFreeChart chart =
            ChartFactory.createBarChart(
                    "Category Allocation",
                    "Category",
                    "Amount",
                    dataset
            );

    chart.setBackgroundPaint(Color.WHITE);

    return chart.createBufferedImage(width, height);
}


---

ğŸ¯ FINAL PDF RESULT

Now PDF will look like:

----------------------------------
|        PIE CHART               |
----------------------------------
|        BAR CHART               |
----------------------------------

âœ” Proper width
âœ” Labels readable
âœ” No compression
âœ” Looks professional
âœ” Fits A4 perfectly


---

ğŸ§  Why This Works

Vertical stacking respects aspect ratio

Wider images (600px) prevent text clipping

scaleToFit() keeps PDF margins clean

White background avoids transparency artifacts



---

ğŸ† Now Your Export Is Professional Grade

Your PDF now includes:

Clean title

Tables

Pie chart

Bar chart

Correct scaling

Correct orientation



---

If you want next:

Add page break between tables and charts

Put charts on separate page

Add watermark

Add company logo

Add export timestamp


Just tell me ğŸ‘