Excellent upgrade request üëå
We‚Äôll do this properly and cleanly, still pure Java + Swing, no external libraries.


---

‚úÖ What we will add (cleanly)

‚úî Dark theme (consistent colors)
‚úî Drag & Drop file support
‚úî Progress bar for large files (streaming hash)
‚úî Proper spacing & padding
‚úî Signature footer: rugved.dev
‚úî Non-blocking UI (SwingWorker)


---

üîß 1Ô∏è‚É£ Update HashService (for large files + progress)

üìÑ HashService.java

package com.kpmg.filehash.service;

import java.io.File;
import java.io.FileInputStream;
import java.security.MessageDigest;

public class HashService {

    public static String generateHash(
            File file,
            String algorithm,
            ProgressCallback callback
    ) throws Exception {

        MessageDigest digest = MessageDigest.getInstance(algorithm);
        long totalBytes = file.length();
        long processed = 0;

        try (FileInputStream fis = new FileInputStream(file)) {
            byte[] buffer = new byte[8192];
            int bytesRead;

            while ((bytesRead = fis.read(buffer)) != -1) {
                digest.update(buffer, 0, bytesRead);
                processed += bytesRead;

                if (callback != null) {
                    int progress = (int) ((processed * 100) / totalBytes);
                    callback.onProgress(progress);
                }
            }
        }

        byte[] hashBytes = digest.digest();
        StringBuilder sb = new StringBuilder();
        for (byte b : hashBytes) {
            sb.append(String.format("%02x", b));
        }
        return sb.toString();
    }

    public interface ProgressCallback {
        void onProgress(int percent);
    }
}


---

üé® 2Ô∏è‚É£ Dark Theme Colors (Centralized)

private static final Color BG = new Color(30, 30, 30);
private static final Color FG = new Color(220, 220, 220);
private static final Color PANEL = new Color(45, 45, 45);
private static final Color ACCENT = new Color(0, 120, 215);


---

üñ•Ô∏è 3Ô∏è‚É£ FINAL UI ‚Äì Dark Theme + DnD + Progress + Footer

üìÑ FileHashGenerator.java (FULL VERSION)

package com.kpmg.filehash.ui;

import com.kpmg.filehash.constants.HashAlgorithm;
import com.kpmg.filehash.service.HashService;

import javax.swing.*;
import javax.swing.border.EmptyBorder;
import java.awt.*;
import java.awt.datatransfer.StringSelection;
import java.awt.dnd.*;
import java.io.File;
import java.util.List;

public class FileHashGenerator extends JFrame {

    private JTextField fileField;
    private JComboBox<HashAlgorithm> algoBox;
    private JTextArea resultArea;
    private JProgressBar progressBar;
    private File selectedFile;

    private static final Color BG = new Color(30, 30, 30);
    private static final Color FG = new Color(220, 220, 220);
    private static final Color PANEL = new Color(45, 45, 45);
    private static final Color ACCENT = new Color(0, 120, 215);

    public FileHashGenerator() {
        setTitle("File Hash Generator");
        setSize(650, 420);
        setLocationRelativeTo(null);
        setDefaultCloseOperation(EXIT_ON_CLOSE);

        initUI();
        enableDragAndDrop();
    }

    private void initUI() {
        JPanel root = new JPanel(new BorderLayout(10, 10));
        root.setBackground(BG);
        root.setBorder(new EmptyBorder(15, 15, 15, 15));
        setContentPane(root);

        /* ---------- FILE PANEL ---------- */
        JPanel filePanel = new JPanel(new BorderLayout(8, 8));
        filePanel.setBackground(PANEL);

        fileField = new JTextField();
        fileField.setEditable(false);
        styleField(fileField);

        JButton browseBtn = createButton("Browse");
        browseBtn.addActionListener(e -> chooseFile());

        filePanel.add(fileField, BorderLayout.CENTER);
        filePanel.add(browseBtn, BorderLayout.EAST);

        root.add(filePanel, BorderLayout.NORTH);

        /* ---------- CONTROL PANEL ---------- */
        JPanel controlPanel = new JPanel(new FlowLayout(FlowLayout.LEFT, 15, 10));
        controlPanel.setBackground(BG);

        algoBox = new JComboBox<>(HashAlgorithm.values());
        styleCombo(algoBox);

        JButton generateBtn = createButton("Generate Hash");
        generateBtn.addActionListener(e -> generateHash());

        controlPanel.add(label("Algorithm:"));
        controlPanel.add(algoBox);
        controlPanel.add(generateBtn);

        root.add(controlPanel, BorderLayout.CENTER);

        /* ---------- RESULT PANEL ---------- */
        resultArea = new JTextArea(5, 40);
        resultArea.setEditable(false);
        resultArea.setLineWrap(true);
        resultArea.setWrapStyleWord(true);
        styleTextArea(resultArea);

        JScrollPane scroll = new JScrollPane(resultArea);
        scroll.setBorder(BorderFactory.createTitledBorder(
                BorderFactory.createLineBorder(ACCENT),
                "Hash Output",
                0, 0,
                null, FG
        ));

        root.add(scroll, BorderLayout.SOUTH);

        /* ---------- BOTTOM PANEL ---------- */
        JPanel bottom = new JPanel(new BorderLayout());
        bottom.setBackground(BG);

        progressBar = new JProgressBar(0, 100);
        progressBar.setStringPainted(true);

        JButton copyBtn = createButton("Copy to Clipboard");
        copyBtn.addActionListener(e -> copyHash());

        JLabel footer = new JLabel("rugved.dev", SwingConstants.RIGHT);
        footer.setForeground(Color.GRAY);

        bottom.add(progressBar, BorderLayout.NORTH);
        bottom.add(copyBtn, BorderLayout.WEST);
        bottom.add(footer, BorderLayout.EAST);

        root.add(bottom, BorderLayout.PAGE_END);
    }

    /* ---------- ACTIONS ---------- */

    private void chooseFile() {
        JFileChooser chooser = new JFileChooser();
        if (chooser.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {
            setFile(chooser.getSelectedFile());
        }
    }

    private void generateHash() {
        if (selectedFile == null) {
            JOptionPane.showMessageDialog(this, "Please select a file.");
            return;
        }

        progressBar.setValue(0);
        resultArea.setText("");

        SwingWorker<String, Integer> worker = new SwingWorker<>() {
            @Override
            protected String doInBackground() throws Exception {
                return HashService.generateHash(
                        selectedFile,
                        ((HashAlgorithm) algoBox.getSelectedItem()).getAlgorithm(),
                        this::setProgress
                );
            }

            @Override
            protected void done() {
                try {
                    resultArea.setText(get());
                } catch (Exception e) {
                    JOptionPane.showMessageDialog(
                            FileHashGenerator.this,
                            "Error: " + e.getMessage()
                    );
                }
            }
        };

        worker.addPropertyChangeListener(evt -> {
            if ("progress".equals(evt.getPropertyName())) {
                progressBar.setValue((Integer) evt.getNewValue());
            }
        });

        worker.execute();
    }

    private void copyHash() {
        if (!resultArea.getText().isEmpty()) {
            Toolkit.getDefaultToolkit()
                    .getSystemClipboard()
                    .setContents(
                            new StringSelection(resultArea.getText()),
                            null
                    );
        }
    }

    /* ---------- DRAG & DROP ---------- */
    private void enableDragAndDrop() {
        new DropTarget(this, new DropTargetAdapter() {
            @Override
            public void drop(DropTargetDropEvent dtde) {
                try {
                    dtde.acceptDrop(DnDConstants.ACTION_COPY);
                    List<File> files =
                            (List<File>) dtde.getTransferable()
                                    .getTransferData(DataFlavor.javaFileListFlavor);
                    if (!files.isEmpty()) {
                        setFile(files.get(0));
                    }
                } catch (Exception ignored) {}
            }
        });
    }

    private void setFile(File file) {
        selectedFile = file;
        fileField.setText(file.getAbsolutePath());
    }

    /* ---------- STYLES ---------- */
    private JButton createButton(String text) {
        JButton btn = new JButton(text);
        btn.setBackground(ACCENT);
        btn.setForeground(Color.WHITE);
        return btn;
    }

    private JLabel label(String text) {
        JLabel l = new JLabel(text);
        l.setForeground(FG);
        return l;
    }

    private void styleField(JTextField f) {
        f.setBackground(BG);
        f.setForeground(FG);
        f.setBorder(BorderFactory.createLineBorder(ACCENT));
    }

    private void styleTextArea(JTextArea a) {
        a.setBackground(BG);
        a.setForeground(FG);
        a.setBorder(new EmptyBorder(8, 8, 8, 8));
    }

    private void styleCombo(JComboBox<?> c) {
        c.setBackground(PANEL);
        c.setForeground(FG);
    }
}


---

üîÅ Rebuild JAR (Final)

javac -d bin -sourcepath src src/com/kpmg/filehash/app/Main.java
jar cfm FileHashGenerator.jar manifest\MANIFEST.MF -C bin .
java -jar FileHashGenerator.jar


---

üß† Interview-Ready Summary

You can confidently say:

> ‚ÄúI implemented streaming hash computation with progress tracking, drag-and-drop support, and a custom dark-themed Swing UI using SwingWorker to keep the UI responsive.‚Äù



That‚Äôs very strong desktop Java üí™


---

If you want next:

Windows EXE with icon

Hash verification mode

Compare two files

System tray support


Just say the word üòÑ