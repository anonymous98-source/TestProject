const theme = useMemo(() => {
    if (disableCustomTheme) return {};
    return createTheme({
      cssVarPrefix: "template",
      cssVariables: {
        colorSchemeSelector: "data-mui-color-scheme"
      },
      colorSchemes,
      defaultColorScheme: safeThemeKey,
      typography,
      shadows,
      shape,
      components: {
        ...inputsCustomizations,
        ...dataDisplayCustomizations,
        ...feedbackCustomizations,
        ...navigationCustomizations,
        ...surfacesCustomizations,
        ...themeComponents
      }
    });
  }, [disableCustomTheme, themeComponents, safeThemeKey]);
